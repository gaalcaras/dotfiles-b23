# posteo configuration

set header_cache = "~/.cache/mutt/posteo/headers"
set message_cachedir = "~/.cache/mutt/posteo/messages"

# Folders
set spoolfile="+posteo/inbox"
set record="+posteo/sent"
set postponed="+posteo/drafts"
set mbox="+posteo/drafts"

mailboxes "+====== posteo =========" \
          "+posteo/inbox" \
          "+posteo/archives" \
          "+posteo/drafts" \
          "+posteo/sent" \
          "+posteo/trash" \

# Specific macros
macro index,pager gi "<change-folder>+posteo/inbox<enter>" "Go to inbox"
macro index,pager ga "<change-folder>+posteo/archives<enter>" "Go to all mail"
macro index,pager gs "<change-folder>+posteo/sent<enter>" "Go to sent mail"
macro index,pager gt "<change-folder>+posteo/trash<enter>" "Go to trash"
macro index,pager gd "<change-folder>+posteo/drafts<enter>" "Go to drafts"

macro index,pager .s '<enter-command>unset wait_key<enter><shell-escape>clear && offlineimap -o -a posteo -f INBOX<enter><enter-command>set wait_key<enter>' 'Sync inbox'
macro index,pager .S '<enter-command>unset wait_key<enter><shell-escape>clear && offlineimap -o -a posteo<enter><enter-command>set wait_key<enter>' 'Sync everything'

# Archive with one key
macro index a "<collapse-thread><tag-thread><clear-flag>N<save-message>+posteo/archives<enter><untag-pattern>.<enter>" "Move to archives"
macro pager a "qa<enter>" "Move to archives (from pager)"

# SMTP
set sendmail="msmtp-enqueue -a posteo --user=$my_posteo_em --from=$my_posteo_em"
set from="$my_name <$my_posteo_em>"
