# Telecom configuration

set header_cache = "~/.cache/mutt/telecom/headers"
set message_cachedir = "~/.cache/mutt/telecom/messages"

# IMAP
set imap_user=$my_telecom_em
set imap_pass=$my_telecom_pw
set folder=imaps://$my_telecom_em@z.mines-telecom.fr/

# Folders
set spoolfile="+INBOX"
set record="+Sent"
set postponed="+Drafts"
set mbox="+Archives"

mailboxes "+====== TELECOM =========" \
          "+INBOX" \
          "+Archives" \
          "+Drafts" \
          "+Sent" \
          "+Trash" \

# Specific macros
bind index,pager g noop
macro index,pager gi "<change-folder>+INBOX<enter>" "Go to inbox"
macro index,pager ga "<change-folder>+Archives<enter>" "Go to all mail"
macro index,pager gs "<change-folder>+Sent<enter>" "Go to sent mail"
macro index,pager gt "<change-folder>+Trash<enter>" "Go to trash"
macro index,pager gd "<change-folder>+Drafts<enter>" "Go to drafts"

# Archive with one key
macro index a "<save-message>+Archives<enter>" "Archive"

# SMTP
set realname="Gabriel Alcaras"
set from="$my_telecom_em"
set use_from=yes
set smtp_url=smtps://$imap_user:$imap_pass@z.mines-telecom.fr/

account-hook $folder "set imap_user=$my_telecom_em imap_pass=$my_telecom_pw"
