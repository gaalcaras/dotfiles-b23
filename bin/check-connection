#!/bin/bash

# Check connection status
if ! ping -c1 www.google.com > /dev/null 2>&1; then
    echo 'No ping from Google...'
    # But ping could be firewalled ...

    # '-O -' will redirect the actual html to stdout and thus to /dev/null
    if ! wget -O - www.google.com > /dev/null 2>&1; then
        # Both test have failed
        echo 'No website at google.com...'
        echo "We're either offline or Google has been vanquished by Framasoft"
        exit 1;
    fi
fi
